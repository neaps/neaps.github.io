{"version":3,"sources":["webpack:///./node_modules/randomcolor/randomColor.js","webpack:///./node_modules/@neaps/tide-predictor/src/astronomy/constants.js","webpack:///./node_modules/@neaps/tide-predictor/src/node-corrections/index.js","webpack:///./node_modules/@neaps/tide-predictor/src/constituents/constituent.js","webpack:///./node_modules/@neaps/tide-predictor/src/constituents/compound-constituent.js","webpack:///./node_modules/@neaps/tide-predictor/src/constituents/index.js","webpack:///./src/pages/docs/harmonics.js","webpack:///./src/components/type.js"],"names":["randomColor","seed","colorDictionary","defineColor","colorRanges","pickHue","options","length","hue","randomWithin","hueRange","colorHue","isNaN","color","match","getColorInfo","HexToHSB","number","parseInt","getRealHueRange","step","j","colorInput","getHueRange","pickSaturation","luminosity","saturationRange","getSaturationRange","sMin","sMax","pickBrightness","H","S","bMin","lowerBounds","i","s1","v1","s2","v2","m","getMinimumBrightness","bMax","setFormat","hsv","format","HSVtoHSL","hsl","hslColor","alpha","Math","random","HSVtoRGB","join","rgbColor","rgb","componentToHex","c","hex","toString","HSVtoHex","colorName","range","r","floor","max","min","rnd","name","brightnessRange","h","s","v","h_i","f","p","q","t","g","b","replace","red","substr","green","blue","cMax","delta","saturation","k","round","undefined","string","total","Number","MAX_SAFE_INTEGER","charCodeAt","stringToInteger","TypeError","count","totalColors","colors","push","factory","module","exports","d2r","PI","r2d","corrections","fUnity","fMm","a","omega","value","I","mean","pow","sin","fMf","cos","fO1","fJ1","fOO1","fM2","fK1","nu","fL2","P","rAInv","tan","fK2","fM1","qAInv","fModd","n","uZero","uMf","xi","uO1","uJ1","uOO1","uM2","uK1","nup","uL2","R","atan","uK2","nupp","uM1","Q","uModd","dotArray","results","forEach","index","reduce","astronimicDoodsonNumber","astro","N","pp","coefficients","u","Error","constituent","astronomicValues","speed","astronomicSpeed","Object","freeze","members","_ref","factor","coefficient","compoundConstituent","_ref2","_ref3","_ref4","_ref5","abs","previous","constituents","Z0","SA","SSA","MM","MF","Q1","O1","K1","J1","M1","P1","S1","OO1","N2","NU2","M2","LAM2","L2","T2","S2","R2","K2","M3","MSF","RHO","MU2","MK3","MN4","M4","MS4","S4","M6","S6","M8","SingleConstituent","predictedHeights","tidePrediction","amplitude","phase_GMT","phaseKey","getTimelinePrediction","start","Date","end","padding","top","bottom","left","right","height","crossAxis","style","tickLabels","fill","dependentAxis","label","data","interpolation","strokeWidth","stroke","secondary","highlight","x","y","MultipleConstituent","predictedHeightsM2","predictedHeightsS2","predictedHeightsN2","predictedHeightsK1","AllConstituents","harmonics","heights","harmonic","map","randomcolor","Predictions","DocsHarmonicsPage","allConstituents","allNoaaStation","nodes","HarmonicConstituents","description","title","href","to","keys","key","LeadParagraph","styled","SectionTitle","h2","primary","dark"],"mappings":"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","file":"component---src-pages-docs-harmonics-js-1177c43696a57f95f049.js","sourcesContent":["// randomColor by David Merfield under the CC0 license\n// https://github.com/davidmerfield/randomColor/\n;\n\n(function (root, factory) {\n  // Support CommonJS\n  if (typeof exports === 'object') {\n    var randomColor = factory(); // Support NodeJS & Component, which allow module.exports to be a function\n\n    if (typeof module === 'object' && module && module.exports) {\n      exports = module.exports = randomColor;\n    } // Support CommonJS 1.1.1 spec\n\n\n    exports.randomColor = randomColor; // Support AMD\n  } else if (typeof define === 'function' && define.amd) {\n    define([], factory); // Support vanilla script loading\n  } else {\n    root.randomColor = factory();\n  }\n})(this, function () {\n  // Seed to get repeatable colors\n  var seed = null; // Shared color dictionary\n\n  var colorDictionary = {}; // Populate the color dictionary\n\n  loadColorBounds(); // check if a range is taken\n\n  var colorRanges = [];\n\n  var randomColor = function randomColor(options) {\n    options = options || {}; // Check if there is a seed and ensure it's an\n    // integer. Otherwise, reset the seed value.\n\n    if (options.seed !== undefined && options.seed !== null && options.seed === parseInt(options.seed, 10)) {\n      seed = options.seed; // A string was passed as a seed\n    } else if (typeof options.seed === 'string') {\n      seed = stringToInteger(options.seed); // Something was passed as a seed but it wasn't an integer or string\n    } else if (options.seed !== undefined && options.seed !== null) {\n      throw new TypeError('The seed value must be an integer or string'); // No seed, reset the value outside.\n    } else {\n      seed = null;\n    }\n\n    var H, S, B; // Check if we need to generate multiple colors\n\n    if (options.count !== null && options.count !== undefined) {\n      var totalColors = options.count,\n          colors = []; // Value false at index i means the range i is not taken yet.\n\n      for (var i = 0; i < options.count; i++) {\n        colorRanges.push(false);\n      }\n\n      options.count = null;\n\n      while (totalColors > colors.length) {\n        // Since we're generating multiple colors,\n        // incremement the seed. Otherwise we'd just\n        // generate the same color each time...\n        if (seed && options.seed) options.seed += 1;\n        colors.push(randomColor(options));\n      }\n\n      options.count = totalColors;\n      return colors;\n    } // First we pick a hue (H)\n\n\n    H = pickHue(options); // Then use H to determine saturation (S)\n\n    S = pickSaturation(H, options); // Then use S and H to determine brightness (B).\n\n    B = pickBrightness(H, S, options); // Then we return the HSB color in the desired format\n\n    return setFormat([H, S, B], options);\n  };\n\n  function pickHue(options) {\n    if (colorRanges.length > 0) {\n      var hueRange = getRealHueRange(options.hue);\n      var hue = randomWithin(hueRange); //Each of colorRanges.length ranges has a length equal approximatelly one step\n\n      var step = (hueRange[1] - hueRange[0]) / colorRanges.length;\n      var j = parseInt((hue - hueRange[0]) / step); //Check if the range j is taken\n\n      if (colorRanges[j] === true) {\n        j = (j + 2) % colorRanges.length;\n      } else {\n        colorRanges[j] = true;\n      }\n\n      var min = (hueRange[0] + j * step) % 359,\n          max = (hueRange[0] + (j + 1) * step) % 359;\n      hueRange = [min, max];\n      hue = randomWithin(hueRange);\n\n      if (hue < 0) {\n        hue = 360 + hue;\n      }\n\n      return hue;\n    } else {\n      var hueRange = getHueRange(options.hue);\n      hue = randomWithin(hueRange); // Instead of storing red as two seperate ranges,\n      // we group them, using negative numbers\n\n      if (hue < 0) {\n        hue = 360 + hue;\n      }\n\n      return hue;\n    }\n  }\n\n  function pickSaturation(hue, options) {\n    if (options.hue === 'monochrome') {\n      return 0;\n    }\n\n    if (options.luminosity === 'random') {\n      return randomWithin([0, 100]);\n    }\n\n    var saturationRange = getSaturationRange(hue);\n    var sMin = saturationRange[0],\n        sMax = saturationRange[1];\n\n    switch (options.luminosity) {\n      case 'bright':\n        sMin = 55;\n        break;\n\n      case 'dark':\n        sMin = sMax - 10;\n        break;\n\n      case 'light':\n        sMax = 55;\n        break;\n    }\n\n    return randomWithin([sMin, sMax]);\n  }\n\n  function pickBrightness(H, S, options) {\n    var bMin = getMinimumBrightness(H, S),\n        bMax = 100;\n\n    switch (options.luminosity) {\n      case 'dark':\n        bMax = bMin + 20;\n        break;\n\n      case 'light':\n        bMin = (bMax + bMin) / 2;\n        break;\n\n      case 'random':\n        bMin = 0;\n        bMax = 100;\n        break;\n    }\n\n    return randomWithin([bMin, bMax]);\n  }\n\n  function setFormat(hsv, options) {\n    switch (options.format) {\n      case 'hsvArray':\n        return hsv;\n\n      case 'hslArray':\n        return HSVtoHSL(hsv);\n\n      case 'hsl':\n        var hsl = HSVtoHSL(hsv);\n        return 'hsl(' + hsl[0] + ', ' + hsl[1] + '%, ' + hsl[2] + '%)';\n\n      case 'hsla':\n        var hslColor = HSVtoHSL(hsv);\n        var alpha = options.alpha || Math.random();\n        return 'hsla(' + hslColor[0] + ', ' + hslColor[1] + '%, ' + hslColor[2] + '%, ' + alpha + ')';\n\n      case 'rgbArray':\n        return HSVtoRGB(hsv);\n\n      case 'rgb':\n        var rgb = HSVtoRGB(hsv);\n        return 'rgb(' + rgb.join(', ') + ')';\n\n      case 'rgba':\n        var rgbColor = HSVtoRGB(hsv);\n        var alpha = options.alpha || Math.random();\n        return 'rgba(' + rgbColor.join(', ') + ', ' + alpha + ')';\n\n      default:\n        return HSVtoHex(hsv);\n    }\n  }\n\n  function getMinimumBrightness(H, S) {\n    var lowerBounds = getColorInfo(H).lowerBounds;\n\n    for (var i = 0; i < lowerBounds.length - 1; i++) {\n      var s1 = lowerBounds[i][0],\n          v1 = lowerBounds[i][1];\n      var s2 = lowerBounds[i + 1][0],\n          v2 = lowerBounds[i + 1][1];\n\n      if (S >= s1 && S <= s2) {\n        var m = (v2 - v1) / (s2 - s1),\n            b = v1 - m * s1;\n        return m * S + b;\n      }\n    }\n\n    return 0;\n  }\n\n  function getHueRange(colorInput) {\n    if (typeof parseInt(colorInput) === 'number') {\n      var number = parseInt(colorInput);\n\n      if (number < 360 && number > 0) {\n        return [number, number];\n      }\n    }\n\n    if (typeof colorInput === 'string') {\n      if (colorDictionary[colorInput]) {\n        var color = colorDictionary[colorInput];\n\n        if (color.hueRange) {\n          return color.hueRange;\n        }\n      } else if (colorInput.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)) {\n        var hue = HexToHSB(colorInput)[0];\n        return [hue, hue];\n      }\n    }\n\n    return [0, 360];\n  }\n\n  function getSaturationRange(hue) {\n    return getColorInfo(hue).saturationRange;\n  }\n\n  function getColorInfo(hue) {\n    // Maps red colors to make picking hue easier\n    if (hue >= 334 && hue <= 360) {\n      hue -= 360;\n    }\n\n    for (var colorName in colorDictionary) {\n      var color = colorDictionary[colorName];\n\n      if (color.hueRange && hue >= color.hueRange[0] && hue <= color.hueRange[1]) {\n        return colorDictionary[colorName];\n      }\n    }\n\n    return 'Color not found';\n  }\n\n  function randomWithin(range) {\n    if (seed === null) {\n      //generate random evenly destinct number from : https://martin.ankerl.com/2009/12/09/how-to-create-random-colors-programmatically/\n      var golden_ratio = 0.618033988749895;\n      var r = Math.random();\n      r += golden_ratio;\n      r %= 1;\n      return Math.floor(range[0] + r * (range[1] + 1 - range[0]));\n    } else {\n      //Seeded random algorithm from http://indiegamr.com/generate-repeatable-random-numbers-in-js/\n      var max = range[1] || 1;\n      var min = range[0] || 0;\n      seed = (seed * 9301 + 49297) % 233280;\n      var rnd = seed / 233280.0;\n      return Math.floor(min + rnd * (max - min));\n    }\n  }\n\n  function HSVtoHex(hsv) {\n    var rgb = HSVtoRGB(hsv);\n\n    function componentToHex(c) {\n      var hex = c.toString(16);\n      return hex.length == 1 ? '0' + hex : hex;\n    }\n\n    var hex = '#' + componentToHex(rgb[0]) + componentToHex(rgb[1]) + componentToHex(rgb[2]);\n    return hex;\n  }\n\n  function defineColor(name, hueRange, lowerBounds) {\n    var sMin = lowerBounds[0][0],\n        sMax = lowerBounds[lowerBounds.length - 1][0],\n        bMin = lowerBounds[lowerBounds.length - 1][1],\n        bMax = lowerBounds[0][1];\n    colorDictionary[name] = {\n      hueRange: hueRange,\n      lowerBounds: lowerBounds,\n      saturationRange: [sMin, sMax],\n      brightnessRange: [bMin, bMax]\n    };\n  }\n\n  function loadColorBounds() {\n    defineColor('monochrome', null, [[0, 0], [100, 0]]);\n    defineColor('red', [-26, 18], [[20, 100], [30, 92], [40, 89], [50, 85], [60, 78], [70, 70], [80, 60], [90, 55], [100, 50]]);\n    defineColor('orange', [19, 46], [[20, 100], [30, 93], [40, 88], [50, 86], [60, 85], [70, 70], [100, 70]]);\n    defineColor('yellow', [47, 62], [[25, 100], [40, 94], [50, 89], [60, 86], [70, 84], [80, 82], [90, 80], [100, 75]]);\n    defineColor('green', [63, 178], [[30, 100], [40, 90], [50, 85], [60, 81], [70, 74], [80, 64], [90, 50], [100, 40]]);\n    defineColor('blue', [179, 257], [[20, 100], [30, 86], [40, 80], [50, 74], [60, 60], [70, 52], [80, 44], [90, 39], [100, 35]]);\n    defineColor('purple', [258, 282], [[20, 100], [30, 87], [40, 79], [50, 70], [60, 65], [70, 59], [80, 52], [90, 45], [100, 42]]);\n    defineColor('pink', [283, 334], [[20, 100], [30, 90], [40, 86], [60, 84], [80, 80], [90, 75], [100, 73]]);\n  }\n\n  function HSVtoRGB(hsv) {\n    // this doesn't work for the values of 0 and 360\n    // here's the hacky fix\n    var h = hsv[0];\n\n    if (h === 0) {\n      h = 1;\n    }\n\n    if (h === 360) {\n      h = 359;\n    } // Rebase the h,s,v values\n\n\n    h = h / 360;\n    var s = hsv[1] / 100,\n        v = hsv[2] / 100;\n    var h_i = Math.floor(h * 6),\n        f = h * 6 - h_i,\n        p = v * (1 - s),\n        q = v * (1 - f * s),\n        t = v * (1 - (1 - f) * s),\n        r = 256,\n        g = 256,\n        b = 256;\n\n    switch (h_i) {\n      case 0:\n        r = v;\n        g = t;\n        b = p;\n        break;\n\n      case 1:\n        r = q;\n        g = v;\n        b = p;\n        break;\n\n      case 2:\n        r = p;\n        g = v;\n        b = t;\n        break;\n\n      case 3:\n        r = p;\n        g = q;\n        b = v;\n        break;\n\n      case 4:\n        r = t;\n        g = p;\n        b = v;\n        break;\n\n      case 5:\n        r = v;\n        g = p;\n        b = q;\n        break;\n    }\n\n    var result = [Math.floor(r * 255), Math.floor(g * 255), Math.floor(b * 255)];\n    return result;\n  }\n\n  function HexToHSB(hex) {\n    hex = hex.replace(/^#/, '');\n    hex = hex.length === 3 ? hex.replace(/(.)/g, '$1$1') : hex;\n    var red = parseInt(hex.substr(0, 2), 16) / 255,\n        green = parseInt(hex.substr(2, 2), 16) / 255,\n        blue = parseInt(hex.substr(4, 2), 16) / 255;\n    var cMax = Math.max(red, green, blue),\n        delta = cMax - Math.min(red, green, blue),\n        saturation = cMax ? delta / cMax : 0;\n\n    switch (cMax) {\n      case red:\n        return [60 * ((green - blue) / delta % 6) || 0, saturation, cMax];\n\n      case green:\n        return [60 * ((blue - red) / delta + 2) || 0, saturation, cMax];\n\n      case blue:\n        return [60 * ((red - green) / delta + 4) || 0, saturation, cMax];\n    }\n  }\n\n  function HSVtoHSL(hsv) {\n    var h = hsv[0],\n        s = hsv[1] / 100,\n        v = hsv[2] / 100,\n        k = (2 - s) * v;\n    return [h, Math.round(s * v / (k < 1 ? k : 2 - k) * 10000) / 100, k / 2 * 100];\n  }\n\n  function stringToInteger(string) {\n    var total = 0;\n\n    for (var i = 0; i !== string.length; i++) {\n      if (total >= Number.MAX_SAFE_INTEGER) break;\n      total += string.charCodeAt(i);\n    }\n\n    return total;\n  } // get The range of given hue when options.count!=0\n\n\n  function getRealHueRange(colorHue) {\n    if (!isNaN(colorHue)) {\n      var number = parseInt(colorHue);\n\n      if (number < 360 && number > 0) {\n        return getColorInfo(colorHue).hueRange;\n      }\n    } else if (typeof colorHue === 'string') {\n      if (colorDictionary[colorHue]) {\n        var color = colorDictionary[colorHue];\n\n        if (color.hueRange) {\n          return color.hueRange;\n        }\n      } else if (colorHue.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)) {\n        var hue = HexToHSB(colorHue)[0];\n        return getColorInfo(hue).hueRange;\n      }\n    }\n\n    return [0, 360];\n  }\n\n  return randomColor;\n});","var d2r = Math.PI / 180.0;\nvar r2d = 180.0 / Math.PI;\nexport { d2r, r2d };","import { d2r, r2d } from '../astronomy/constants';\nvar corrections = {\n  fUnity: function fUnity() {\n    return 1;\n  },\n  // Schureman equations 73, 65\n  fMm: function fMm(a) {\n    var omega = d2r * a.omega.value;\n    var i = d2r * a.i.value;\n    var I = d2r * a.I.value;\n    var mean = (2 / 3.0 - Math.pow(Math.sin(omega), 2)) * (1 - 3 / 2.0 * Math.pow(Math.sin(i), 2));\n    return (2 / 3.0 - Math.pow(Math.sin(I), 2)) / mean;\n  },\n  // Schureman equations 74, 66\n  fMf: function fMf(a) {\n    var omega = d2r * a.omega.value;\n    var i = d2r * a.i.value;\n    var I = d2r * a.I.value;\n    var mean = Math.pow(Math.sin(omega), 2) * Math.pow(Math.cos(0.5 * i), 4);\n    return Math.pow(Math.sin(I), 2) / mean;\n  },\n  // Schureman equations 75, 67\n  fO1: function fO1(a) {\n    var omega = d2r * a.omega.value;\n    var i = d2r * a.i.value;\n    var I = d2r * a.I.value;\n    var mean = Math.sin(omega) * Math.pow(Math.cos(0.5 * omega), 2) * Math.pow(Math.cos(0.5 * i), 4);\n    return Math.sin(I) * Math.pow(Math.cos(0.5 * I), 2) / mean;\n  },\n  // Schureman equations 76, 68\n  fJ1: function fJ1(a) {\n    var omega = d2r * a.omega.value;\n    var i = d2r * a.i.value;\n    var I = d2r * a.I.value;\n    var mean = Math.sin(2 * omega) * (1 - 3 / 2.0 * Math.pow(Math.sin(i), 2));\n    return Math.sin(2 * I) / mean;\n  },\n  // Schureman equations 77, 69\n  fOO1: function fOO1(a) {\n    var omega = d2r * a.omega.value;\n    var i = d2r * a.i.value;\n    var I = d2r * a.I.value;\n    var mean = Math.sin(omega) * Math.pow(Math.sin(0.5 * omega), 2) * Math.pow(Math.cos(0.5 * i), 4);\n    return Math.sin(I) * Math.pow(Math.sin(0.5 * I), 2) / mean;\n  },\n  // Schureman equations 78, 70\n  fM2: function fM2(a) {\n    var omega = d2r * a.omega.value;\n    var i = d2r * a.i.value;\n    var I = d2r * a.I.value;\n    var mean = Math.pow(Math.cos(0.5 * omega), 4) * Math.pow(Math.cos(0.5 * i), 4);\n    return Math.pow(Math.cos(0.5 * I), 4) / mean;\n  },\n  // Schureman equations 227, 226, 68\n  // Should probably eventually include the derivations of the magic numbers (0.5023 etc).\n  fK1: function fK1(a) {\n    var omega = d2r * a.omega.value;\n    var i = d2r * a.i.value;\n    var I = d2r * a.I.value;\n    var nu = d2r * a.nu.value;\n    var sin2IcosnuMean = Math.sin(2 * omega) * (1 - 3 / 2.0 * Math.pow(Math.sin(i), 2));\n    var mean = 0.5023 * sin2IcosnuMean + 0.1681;\n    return Math.pow(0.2523 * Math.pow(Math.sin(2 * I), 2) + 0.1689 * Math.sin(2 * I) * Math.cos(nu) + 0.0283, 0.5) / mean;\n  },\n  // Schureman equations 215, 213, 204\n  // It can be (and has been) confirmed that the exponent for R_a reads 1/2 via Schureman Table 7\n  fL2: function fL2(a) {\n    var P = d2r * a.P.value;\n    var I = d2r * a.I.value;\n    var rAInv = Math.pow(1 - 12 * Math.pow(Math.tan(0.5 * I), 2) * Math.cos(2 * P) + 36 * Math.pow(Math.tan(0.5 * I), 4), 0.5);\n    return corrections.fM2(a) * rAInv;\n  },\n  // Schureman equations 235, 234, 71\n  // Again, magic numbers\n  fK2: function fK2(a) {\n    var omega = d2r * a.omega.value;\n    var i = d2r * a.i.value;\n    var I = d2r * a.I.value;\n    var nu = d2r * a.nu.value;\n    var sinsqIcos2nuMean = Math.pow(Math.sin(omega), 2) * (1 - 3 / 2.0 * Math.pow(Math.sin(i), 2));\n    var mean = 0.5023 * sinsqIcos2nuMean + 0.0365;\n    return Math.pow(0.2523 * Math.pow(Math.sin(I), 4) + 0.0367 * Math.pow(Math.sin(I), 2) * Math.cos(2 * nu) + 0.0013, 0.5) / mean;\n  },\n  // Schureman equations 206, 207, 195\n  fM1: function fM1(a) {\n    var P = d2r * a.P.value;\n    var I = d2r * a.I.value;\n    var qAInv = Math.pow(0.25 + 1.5 * Math.cos(I) * Math.cos(2 * P) * Math.pow(Math.cos(0.5 * I), -0.5) + 2.25 * Math.pow(Math.cos(I), 2) * Math.pow(Math.cos(0.5 * I), -4), 0.5);\n    return corrections.fO1(a) * qAInv;\n  },\n  // See e.g. Schureman equation 149\n  fModd: function fModd(a, n) {\n    return Math.pow(corrections.fM2(a), n / 2.0);\n  },\n  // Node factors u, see Table 2 of Schureman.\n  uZero: function uZero(a) {\n    return 0.0;\n  },\n  uMf: function uMf(a) {\n    return -2.0 * a.xi.value;\n  },\n  uO1: function uO1(a) {\n    return 2.0 * a.xi.value - a.nu.value;\n  },\n  uJ1: function uJ1(a) {\n    return -a.nu.value;\n  },\n  uOO1: function uOO1(a) {\n    return -2.0 * a.xi.value - a.nu.value;\n  },\n  uM2: function uM2(a) {\n    return 2.0 * a.xi.value - 2.0 * a.nu.value;\n  },\n  uK1: function uK1(a) {\n    return -a.nup.value;\n  },\n  // Schureman 214\n  uL2: function uL2(a) {\n    var I = d2r * a.I.value;\n    var P = d2r * a.P.value;\n    var R = r2d * Math.atan(Math.sin(2 * P) / (1 / 6.0 * Math.pow(Math.tan(0.5 * I), -2) - Math.cos(2 * P)));\n    return 2.0 * a.xi.value - 2.0 * a.nu.value - R;\n  },\n  uK2: function uK2(a) {\n    return -2.0 * a.nupp.value;\n  },\n  // Schureman 202\n  uM1: function uM1(a) {\n    var I = d2r * a.I.value;\n    var P = d2r * a.P.value;\n    var Q = r2d * Math.atan((5 * Math.cos(I) - 1) / (7 * Math.cos(I) + 1) * Math.tan(P));\n    return a.xi.value - a.nu.value + Q;\n  },\n  uModd: function uModd(a, n) {\n    return n / 2.0 * corrections.uM2(a);\n  }\n};\nexport default corrections;","import \"core-js/modules/es.array.reduce.js\";\nimport nodeCorrections from '../node-corrections/index';\n/**\n * Computes the dot notation of two arrays\n * @param {*} a\n * @param {*} b\n */\n\nvar dotArray = function dotArray(a, b) {\n  var results = [];\n  a.forEach(function (value, index) {\n    results.push(value * b[index]);\n  });\n  return results.reduce(function (total, value) {\n    return total + value;\n  });\n};\n\nvar astronimicDoodsonNumber = function astronimicDoodsonNumber(astro) {\n  return [astro['T+h-s'], astro.s, astro.h, astro.p, astro.N, astro.pp, astro['90']];\n};\n\nvar astronomicSpeed = function astronomicSpeed(astro) {\n  var results = [];\n  astronimicDoodsonNumber(astro).forEach(function (number) {\n    results.push(number.speed);\n  });\n  return results;\n};\n\nvar astronomicValues = function astronomicValues(astro) {\n  var results = [];\n  astronimicDoodsonNumber(astro).forEach(function (number) {\n    results.push(number.value);\n  });\n  return results;\n};\n\nvar constituentFactory = function constituentFactory(name, coefficients, u, f) {\n  if (!coefficients) {\n    throw new Error('Coefficient must be defined for a constituent');\n  }\n\n  var constituent = {\n    name: name,\n    coefficients: coefficients,\n    value: function value(astro) {\n      return dotArray(coefficients, astronomicValues(astro));\n    },\n    speed: function speed(astro) {\n      return dotArray(coefficients, astronomicSpeed(astro));\n    },\n    u: typeof u !== 'undefined' ? u : nodeCorrections.uZero,\n    f: typeof f !== 'undefined' ? f : nodeCorrections.fUnity\n  };\n  return Object.freeze(constituent);\n};\n\nexport default constituentFactory;\nexport { astronimicDoodsonNumber, astronomicSpeed, astronomicValues };","import \"core-js/modules/es.array.reduce.js\";\n\nvar compoundConstituentFactory = function compoundConstituentFactory(name, members) {\n  var coefficients = [];\n  members.forEach(function (_ref) {\n    var constituent = _ref.constituent,\n        factor = _ref.factor;\n    constituent.coefficients.forEach(function (coefficient, index) {\n      if (typeof coefficients[index] === 'undefined') {\n        coefficients[index] = 0;\n      }\n\n      coefficients[index] += coefficient * factor;\n    });\n  });\n  var compoundConstituent = {\n    name: name,\n    coefficients: coefficients,\n    speed: function speed(astro) {\n      var speed = 0;\n      members.forEach(function (_ref2) {\n        var constituent = _ref2.constituent,\n            factor = _ref2.factor;\n        speed += constituent.speed(astro) * factor;\n      });\n      return speed;\n    },\n    value: function value(astro) {\n      var value = 0;\n      members.forEach(function (_ref3) {\n        var constituent = _ref3.constituent,\n            factor = _ref3.factor;\n        value += constituent.value(astro) * factor;\n      });\n      return value;\n    },\n    u: function u(astro) {\n      var u = 0;\n      members.forEach(function (_ref4) {\n        var constituent = _ref4.constituent,\n            factor = _ref4.factor;\n        u += constituent.u(astro) * factor;\n      });\n      return u;\n    },\n    f: function f(astro) {\n      var f = [];\n      members.forEach(function (_ref5) {\n        var constituent = _ref5.constituent,\n            factor = _ref5.factor;\n        f.push(Math.pow(constituent.f(astro), Math.abs(factor)));\n      });\n      return f.reduce(function (previous, value) {\n        return previous * value;\n      });\n    }\n  };\n  return Object.freeze(compoundConstituent);\n};\n\nexport default compoundConstituentFactory;","import constituent from './constituent';\nimport compoundConstituent from './compound-constituent';\nimport nc from '../node-corrections/index';\nvar constituents = {}; // Long Term\n\nconstituents.Z0 = constituent('Z0', [0, 0, 0, 0, 0, 0, 0], nc.uZero, nc.fUnity);\nconstituents.SA = constituent('Sa', [0, 0, 1, 0, 0, 0, 0], nc.uZero, nc.fUnity);\nconstituents.SSA = constituent('Ssa', [0, 0, 2, 0, 0, 0, 0], nc.uZero, nc.fUnity);\nconstituents.MM = constituent('MM', [0, 1, 0, -1, 0, 0, 0], nc.uZero, nc.fMm);\nconstituents.MF = constituent('MF', [0, 2, 0, 0, 0, 0, 0], nc.uMf, nc.fMf); // Diurnals\n\nconstituents.Q1 = constituent('Q1', [1, -2, 0, 1, 0, 0, 1], nc.uO1, nc.fO1);\nconstituents.O1 = constituent('O1', [1, -1, 0, 0, 0, 0, 1], nc.uO1, nc.fO1);\nconstituents.K1 = constituent('K1', [1, 1, 0, 0, 0, 0, -1], nc.uK1, nc.fK1);\nconstituents.J1 = constituent('J1', [1, 2, 0, -1, 0, 0, -1], nc.uJ1, nc.fJ1);\nconstituents.M1 = constituent('M1', [1, 0, 0, 0, 0, 0, 1], nc.uM1, nc.fM1);\nconstituents.P1 = constituent('P1', [1, 1, -2, 0, 0, 0, 1], nc.uZero, nc.fUnity);\nconstituents.S1 = constituent('S1', [1, 1, -1, 0, 0, 0, 0], nc.uZero, nc.fUnity);\nconstituents.OO1 = constituent('OO1', [1, 3, 0, 0, 0, 0, -1], nc.uOO1, nc.fOO1); // Semi diurnals\n\nconstituents['2N2'] = constituent('2N2', [2, -2, 0, 2, 0, 0, 0], nc.uM2, nc.fM2);\nconstituents.N2 = constituent('N2', [2, -1, 0, 1, 0, 0, 0], nc.uM2, nc.fM2);\nconstituents.NU2 = constituent('NU2', [2, -1, 2, -1, 0, 0, 0], nc.uM2, nc.fM2);\nconstituents.M2 = constituent('M2', [2, 0, 0, 0, 0, 0, 0], nc.uM2, nc.fM2);\nconstituents.LAM2 = constituent('LAM2', [2, 1, -2, 1, 0, 0, 2], nc.uM2, nc.fM2);\nconstituents.L2 = constituent('L2', [2, 1, 0, -1, 0, 0, 2], nc.uL2, nc.fL2);\nconstituents.T2 = constituent('T2', [2, 2, -3, 0, 0, 1, 0], nc.uZero, nc.fUnity);\nconstituents.S2 = constituent('S2', [2, 2, -2, 0, 0, 0, 0], nc.uZero, nc.fUnity);\nconstituents.R2 = constituent('R2', [2, 2, -1, 0, 0, -1, 2], nc.uZero, nc.fUnity);\nconstituents.K2 = constituent('K2', [2, 2, 0, 0, 0, 0, 0], nc.uK2, nc.fK2); // Third diurnal\n\nconstituents.M3 = constituent('M3', [3, 0, 0, 0, 0, 0, 0], function (a) {\n  return nc.uModd(a, 3);\n}, function (a) {\n  return nc.fModd(a, 3);\n}); // Compound\n\nconstituents.MSF = compoundConstituent('MSF', [{\n  constituent: constituents.S2,\n  factor: 1\n}, {\n  constituent: constituents.M2,\n  factor: -1\n}]); // Diurnal\n\nconstituents['2Q1'] = compoundConstituent('2Q1', [{\n  constituent: constituents.N2,\n  factor: 1\n}, {\n  constituent: constituents.J1,\n  factor: -1\n}]);\nconstituents.RHO = compoundConstituent('RHO', [{\n  constituent: constituents.NU2,\n  factor: 1\n}, {\n  constituent: constituents.K1,\n  factor: -1\n}]); // Semi-Diurnal\n\nconstituents.MU2 = compoundConstituent('MU2', [{\n  constituent: constituents.M2,\n  factor: 2\n}, {\n  constituent: constituents.S2,\n  factor: -1\n}]);\nconstituents['2SM2'] = compoundConstituent('2SM2', [{\n  constituent: constituents.S2,\n  factor: 2\n}, {\n  constituent: constituents.M2,\n  factor: -1\n}]); // Third-Diurnal\n\nconstituents['2MK3'] = compoundConstituent('2MK3', [{\n  constituent: constituents.M2,\n  factor: 1\n}, {\n  constituent: constituents.O1,\n  factor: 1\n}]);\nconstituents.MK3 = compoundConstituent('MK3', [{\n  constituent: constituents.M2,\n  factor: 1\n}, {\n  constituent: constituents.K1,\n  factor: 1\n}]); // Quarter-Diurnal\n\nconstituents.MN4 = compoundConstituent('MN4', [{\n  constituent: constituents.M2,\n  factor: 1\n}, {\n  constituent: constituents.N2,\n  factor: 1\n}]);\nconstituents.M4 = compoundConstituent('M4', [{\n  constituent: constituents.M2,\n  factor: 2\n}]);\nconstituents.MS4 = compoundConstituent('MS4', [{\n  constituent: constituents.M2,\n  factor: 1\n}, {\n  constituent: constituents.S2,\n  factor: 1\n}]);\nconstituents.S4 = compoundConstituent('S4', [{\n  constituent: constituents.S2,\n  factor: 2\n}]); // Sixth-Diurnal\n\nconstituents.M6 = compoundConstituent('M6', [{\n  constituent: constituents.M2,\n  factor: 3\n}]);\nconstituents.S6 = compoundConstituent('S6', [{\n  constituent: constituents.S2,\n  factor: 3\n}]); // Eighth-Diurnals\n\nconstituents.M8 = compoundConstituent('M8', [{\n  constituent: constituents.M2,\n  factor: 4\n}]);\nexport default constituents;","import React from 'react'\nimport Layout from '../../components/layout/default'\nimport Container from '../../components/container'\nimport constituents from '@neaps/tide-predictor/src/constituents'\nimport { LeadParagraph } from '../../components/type'\nimport Table from '../../components/table'\nimport colors from '../../style/colors'\nimport { Flex, Box } from '@rebass/grid/emotion'\nimport tidePrediction from '@neaps/tide-predictor'\nimport { VictoryAxis, VictoryLine, VictoryChart } from 'victory'\nimport { Link, graphql } from 'gatsby'\nimport randomcolor from 'randomcolor'\n\nconst DocsHarmonicsPage = ({ data }) => {\n  const allConstituents = {}\n  data.allNoaaStation.nodes[0].harmonics.HarmonicConstituents.forEach(\n    constituent => {\n      allConstituents[constituent.name] = constituent.description\n    }\n  )\n  return (\n    <Layout title=\"How harmonic constituents work\">\n      <Container>\n        <LeadParagraph>\n          Tide predictions are created by adding up the effects of potentially\n          hundreds of factors like the location of the sun, the moon, and the\n          benthic environment. These constituents are derived from analyzing\n          past water levels.\n        </LeadParagraph>\n\n        <p>\n          You can think of each tidal constituent as a sine wave. For example,\n          below is a single constituent, M2, or \"Principal lunar semidiurnal\n          constituent\" for Monterey, California during the first week of 2018:\n        </p>\n\n        <SingleConstituent />\n\n        <p>\n          If this constituent, which measures the regular effect of the moon on\n          water levels, were the only one that affected the tides, then tides\n          would go up and down in a regular pattern.\n        </p>\n\n        <p>\n          However, once you add more constituents to measure more effects, it\n          gets complicated.To simplify, let us take just four constituents and\n          plot them for the same location:\n        </p>\n\n        <MultipleConstituent />\n\n        <p>\n          Just for fun, let's take a look at <strong>all</strong> the defined\n          constituents:\n        </p>\n\n        <AllConstituents\n          harmonics={\n            data.allNoaaStation.nodes[0].harmonics.HarmonicConstituents\n          }\n        />\n\n        <p>\n          If we add all these constituents together, they cancel each other or\n          amplify each other, leading to an accurate tide prediction:\n        </p>\n\n        <Predictions\n          harmonics={\n            data.allNoaaStation.nodes[0].harmonics.HarmonicConstituents\n          }\n        />\n\n        <p>\n          To read more about tidal constituents, the following resources are\n          helpful:\n        </p>\n\n        <ul>\n          <li>\n            <a href=\"https://github.com/sam-cox/pytides/wiki/Theory-of-the-Harmonic-Model-of-Tides\">\n              Theory of the harmonic model of tides\n            </a>{' '}\n            - An exhaustive description of how Pytide and Neaps handle tidal\n            constituents.\n          </li>\n          <li>\n            <a href=\"https://tidesandcurrents.noaa.gov/harmonic.html\">\n              NOAA overview of harmonics\n            </a>\n          </li>\n          <li>\n            <a href=\"https://flaterco.com/xtide/harmonics.html\">\n              About harmonic constants and sub station corrections\n            </a>{' '}\n            - The classic Xtide description of harmonic constituents.\n          </li>\n        </ul>\n\n        <h2>Where tidal constituents come from</h2>\n\n        <p>\n          Tidal constituents are derived by running linear regressions (read:\n          lots of maths) on observed water levels. Some agencies, like NOAA,\n          publish tidal constituents that are avialble on their website and via\n          an API. Other agencies do not provide constituents, but do provide\n          data on observed levels.\n        </p>\n\n        <p>\n          We are also working on a{' '}\n          <a href=\"https://github.com/neaps/tide-database\">\n            world-wide database of tidal constiutents\n          </a>\n          .\n        </p>\n\n        <p>\n          If you have at least a year of observations (one an hour will usually\n          do), you can{' '}\n          <Link to=\"/harmonics\">generate your own constituents</Link> on this\n          website. These can even be added to a growing database of global tide\n          stations.\n        </p>\n\n        <h3>Constituents supported by Neaps</h3>\n        <p>\n          Neaps supports all the major tidal constituents, and we are still\n          adding the more esoteric ones that affect large shallow bays.\n        </p>\n        <Table>\n          <thead>\n            <tr>\n              <th>Code</th>\n              <th>Description</th>\n              <th>In Neaps</th>\n            </tr>\n          </thead>\n          <tbody>\n            {Object.keys(allConstituents).map(name => (\n              <tr key={name}>\n                <td>{name}</td>\n                <td>{allConstituents[name]}</td>\n                <td>\n                  {constituents[name] ? <>Supported</> : <>Not supported</>}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </Table>\n      </Container>\n    </Layout>\n  )\n}\n\nconst SingleConstituent = () => {\n  const predictedHeights = tidePrediction(\n    [\n      {\n        name: 'M2',\n        amplitude: 0.491,\n        phase_GMT: 181.3\n      }\n    ],\n    {\n      phaseKey: 'phase_GMT'\n    }\n  ).getTimelinePrediction({\n    start: new Date('2018-01-01'),\n    end: new Date('2018-01-05')\n  })\n  return (\n    <VictoryChart\n      padding={{ top: 0, bottom: 0, left: 50, right: 50 }}\n      height={200}\n    >\n      <VictoryAxis\n        crossAxis\n        style={{\n          tickLabels: { fill: 'none' }\n        }}\n      />\n      <VictoryAxis dependentAxis style={{}} label=\"Meters\" />\n      <VictoryLine\n        data={predictedHeights}\n        interpolation=\"cardinal\"\n        style={{\n          data: {\n            strokeWidth: '1px',\n            stroke: colors.secondary.highlight\n          }\n        }}\n        x=\"time\"\n        y=\"level\"\n      />\n    </VictoryChart>\n  )\n}\n\nconst MultipleConstituent = () => {\n  const predictedHeightsM2 = tidePrediction(\n    [\n      {\n        name: 'M2',\n        amplitude: 0.491,\n        phase_GMT: 181.3\n      }\n    ],\n    {\n      phaseKey: 'phase_GMT'\n    }\n  ).getTimelinePrediction({\n    start: new Date('2018-01-01'),\n    end: new Date('2018-01-05')\n  })\n\n  const predictedHeightsS2 = tidePrediction(\n    [\n      {\n        name: 'S2',\n        amplitude: 0.177,\n        phase_GMT: 150.8\n      }\n    ],\n    {\n      phaseKey: 'phase_GMT'\n    }\n  ).getTimelinePrediction({\n    start: new Date('2018-01-01'),\n    end: new Date('2018-01-05')\n  })\n\n  const predictedHeightsN2 = tidePrediction(\n    [\n      {\n        name: 'N2',\n        amplitude: 0.117,\n        phase_GMT: 133.2\n      }\n    ],\n    {\n      phaseKey: 'phase_GMT'\n    }\n  ).getTimelinePrediction({\n    start: new Date('2018-01-01'),\n    end: new Date('2018-01-05')\n  })\n\n  const predictedHeightsK1 = tidePrediction(\n    [\n      {\n        name: 'K1',\n        amplitude: 0.354,\n        phase_GMT: 212.4\n      }\n    ],\n    {\n      phaseKey: 'phase_GMT'\n    }\n  ).getTimelinePrediction({\n    start: new Date('2018-01-01'),\n    end: new Date('2018-01-05')\n  })\n  return (\n    <VictoryChart\n      padding={{ top: 0, bottom: 0, left: 50, right: 50 }}\n      height={200}\n    >\n      <VictoryAxis\n        crossAxis\n        style={{\n          tickLabels: { fill: 'none' }\n        }}\n      />\n      <VictoryAxis dependentAxis style={{}} label=\"Meters\" />\n      <VictoryLine\n        data={predictedHeightsM2}\n        interpolation=\"cardinal\"\n        style={{\n          data: {\n            strokeWidth: '1px',\n            stroke: colors.secondary.highlight\n          }\n        }}\n        x=\"time\"\n        y=\"level\"\n      />\n\n      <VictoryLine\n        data={predictedHeightsS2}\n        interpolation=\"cardinal\"\n        style={{\n          data: {\n            strokeWidth: '1px',\n            stroke: 'tomato'\n          }\n        }}\n        x=\"time\"\n        y=\"level\"\n      />\n\n      <VictoryLine\n        data={predictedHeightsN2}\n        interpolation=\"cardinal\"\n        style={{\n          data: {\n            strokeWidth: '1px',\n            stroke: 'green'\n          }\n        }}\n        x=\"time\"\n        y=\"level\"\n      />\n\n      <VictoryLine\n        data={predictedHeightsK1}\n        interpolation=\"cardinal\"\n        style={{\n          data: {\n            strokeWidth: '1px',\n            stroke: 'blue'\n          }\n        }}\n        x=\"time\"\n        y=\"level\"\n      />\n    </VictoryChart>\n  )\n}\n\nconst AllConstituents = ({ harmonics }) => {\n  const heights = []\n  harmonics.forEach(harmonic => {\n    heights.push(\n      tidePrediction([harmonic], {\n        phaseKey: 'phase_GMT'\n      }).getTimelinePrediction({\n        start: new Date('2018-01-01'),\n        end: new Date('2018-01-05')\n      })\n    )\n  })\n  return (\n    <VictoryChart\n      padding={{ top: 0, bottom: 0, left: 50, right: 50 }}\n      height={200}\n    >\n      <VictoryAxis\n        crossAxis\n        style={{\n          tickLabels: { fill: 'none' }\n        }}\n      />\n      <VictoryAxis dependentAxis style={{}} label=\"Meters\" />\n      {heights.map(height => (\n        <VictoryLine\n          data={height}\n          interpolation=\"cardinal\"\n          style={{\n            data: {\n              strokeWidth: '1px',\n              stroke: randomcolor()\n            }\n          }}\n          x=\"time\"\n          y=\"level\"\n        />\n      ))}\n    </VictoryChart>\n  )\n}\n\nconst Predictions = ({ harmonics }) => {\n  const predictedHeights = tidePrediction(harmonics, {\n    phaseKey: 'phase_GMT'\n  }).getTimelinePrediction({\n    start: new Date('2018-01-01'),\n    end: new Date('2018-01-05')\n  })\n  return (\n    <VictoryChart\n      padding={{ top: 0, bottom: 0, left: 50, right: 50 }}\n      height={200}\n    >\n      <VictoryAxis\n        crossAxis\n        style={{\n          tickLabels: { fill: 'none' }\n        }}\n      />\n      <VictoryAxis dependentAxis style={{}} label=\"Meters\" />\n\n      <VictoryLine\n        data={predictedHeights}\n        interpolation=\"cardinal\"\n        style={{\n          data: {\n            strokeWidth: '1px',\n            stroke: 'blue'\n          }\n        }}\n        x=\"time\"\n        y=\"level\"\n      />\n    </VictoryChart>\n  )\n}\n\nexport default DocsHarmonicsPage\n\nexport const query = graphql`\n  {\n    allNoaaStation(\n      filter: { info: { stations: { elemMatch: { id: { eq: \"9413450\" } } } } }\n    ) {\n      nodes {\n        harmonics {\n          HarmonicConstituents {\n            amplitude\n            name\n            description\n            phase_GMT\n          }\n        }\n      }\n    }\n  }\n`\n","import styled from '@emotion/styled'\nimport colors from '../style/colors'\n\nconst LeadParagraph = styled.p`\n  font-size: 1.2rem;\n`\n\nconst SectionTitle = styled.h2`\n  border-bottom: 3px solid ${colors.primary.dark};\n  padding-bottom: 0.3rem;\n  margin-top: 1rem;\n`\n\nexport { LeadParagraph, SectionTitle }\n"],"sourceRoot":""}